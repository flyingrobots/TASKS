Loaded configuration from ./config.json
Loaded state from /Users/james/git/TASKS/tools/dag-viewer/dag-state-full.json
Loaded DAG from /Users/james/git/pf3/docs/tasks/plan-out-of-this-mess/dag.json
Loaded features from /Users/james/git/pf3/docs/tasks/plan-out-of-this-mess/features.json
Loaded waves from /Users/james/git/pf3/docs/tasks/plan-out-of-this-mess/waves.json
Loaded tasks metadata from /Users/james/git/pf3/docs/tasks/plan-out-of-this-mess/tasks.json

╔════════════════════════════════════════════════════════╗
║          DAG STATE SERVER - FULL ANALYTICS            ║
╠════════════════════════════════════════════════════════╣
║  POST http://localhost:8080/claim-task              ║
║  POST http://localhost:8080/event                   ║
║  GET  http://localhost:8080/ready-tasks             ║
║  GET  http://localhost:8080/leaderboard             ║
║  GET  http://localhost:8080/git-insights            ║
║  GET  http://localhost:8080/state                   ║
║  GET  http://localhost:8080/events                  ║
║  WS   ws://localhost:8080                           ║
╚════════════════════════════════════════════════════════╝

Event Types:

Claim Task (ATOMIC):
curl -X POST http://localhost:8080/claim-task \
  -H "Content-Type: application/json" \
  -d '{"agent": "mr_clean", "task": "P1.T003"}'

Task Update (with total tokens):
curl -X POST http://localhost:8080/event \
  -H "Content-Type: application/json" \
  -d '{
    "event": "task_update",
    "data": {
      "agent": "mr_clean",
      "task": "P1.T003",
      "status": "completed",
      "timestamp": 1756032505,
      "total_tokens": 1234567
    }
  }'

Git Commit:
curl -X POST http://localhost:8080/event \
  -H "Content-Type: application/json" \
  -d '{
    "event": "git_commit",
    "agent": "mr_clean",
    "data": {
      "sha": "abc123",
      "message": "Fix authentication bug",
      "branch": "main",
      "timestamp": 1756032505,
      "files": [
        {
          "path": "src/auth.js",
          "additions": 45,
          "deletions": 12
        }
      ]
    }
  }'
  
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
Client connected
test_coordinator claimed P1.T001
security_coordinator claimed P1.T002
security_coordinator claimed P1.T004
backend_security claimed P1.T006
security-auditor claimed P1.T007
api-integrator claimed P1.T003
form-integrator claimed P1.T005
rate-limiter claimed P1.T008
security-headers claimed P1.T009
rls-specialist claimed P1.T010
api-security claimed P1.T011
security-validator claimed P1.T012
Client connected
Client connected
